---
title: Visualizzazioni avanzate
n: 11
day: 2
---
I metodi di stilizzazione visti finora offrono già molte opzioni per costruire visualizzazioni avanzate e specifiche. OpenLayers aggiunge anche alcuni metodi di "metarappresentazione" per visualizzare i dati tramite strumenti grafici e visuali derivati. Due tra i più famosi e impiegati sono la clusterizzazione di oggetti puntuali e le _heatmap_ (mappe di densità).

Cluster
=======
Per clustering si intende il raggruppamento di oggetti (puntuali). In OL ogni cluster puntuale, definito semplicemente in base ad una vicinanza grafica tra gli elementi puntuali (distanza minima in pixel), può essere rappresentato come un singolo punto. Trattandosi di distanze in pixel i raggruppamenti variano al variare della risoluzione, ovvero dello zoom. A zoom bassi avremo meno cluster contenenti un numero maggiore di punti. Via via che lo zoom aumenta i cluster vengono separati in cluster sempre meno numerosi, fino ad arrivare eventualmente alla visualizzazione dei singoli elementi originali.

Nel seguente esempio vengono generati randomicamente un migliaio di punti attorno ad una serie di punti di origine (layer "seed"). I punti geometrici generati, ovvero le feature contenenti tali punti, vengono isneriti in un `ol.source.Vector` usato come sorgente di un'altra sorgente `ol.source.Cluster`. Un layer vettoriale viene costruito sulla base di quest'ultima sorgente e inserito in mappa. Tramite la definizione della simbologia del vettoriale, e in particolare tramite l'uso di un'etichetta `olo.style.Text` costruita dinamicamente sulla base del numero di feature contenute in ogni elemento vengono visualizzati il numero di punti rappresentati da "punto cluster".

{% include jsfiddle.html id="c2v44nsx" tabs="result,html" %}

Heatmap
=======
Le heatmap in OL3 vengono definite tramite un layer di tipo `ol.layer.Heatmap` e sono generate sulla base di una convoluzione 2D tra gli elementi del layer originale e un kernel gaussiano. Il kernel utilizza la proprietà `weight` di `ol.layer.Heatmap` che, di default, utilizza l'eventuale campo `weight`, e il relativo valore, assegnato ad ogni feature del layer vettoriale.
Come in ogni elaborazione basata su kernel è necessario definire i parametri del kernel che si vuole impiegare. In `ol.layer.Heatmap` si possono definire le proprietà `blur` e `radius` che vanno a definire dimensione e forma del kernel gaussiano.

In questo esempio in fase di creazione dei punti random, assegnamo ad ogni feature anche il campo `weight` con un valore generato sinteticamente da una distribuzione gaussiana.
{% include jsfiddle.html id="6t3h4cua" tabs="result,html" %}